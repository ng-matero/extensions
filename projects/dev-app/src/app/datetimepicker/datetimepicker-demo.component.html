<mat-radio-group [(ngModel)]="themeColor">
  <mat-radio-button value="primary">primary</mat-radio-button>
  <mat-radio-button value="accent">accent</mat-radio-button>
  <mat-radio-button value="warn">warn</mat-radio-button>
</mat-radio-group>

<mat-checkbox [(ngModel)]="timeInputAutoFocus">timeInputAutoFocus</mat-checkbox>

<form [formGroup]="group">
  <mat-form-field [color]="themeColor">
    <mat-label>DateTime</mat-label>
    <mtx-datetimepicker-toggle [for]="datetimePicker" matSuffix />
    <mtx-datetimepicker #datetimePicker startView="month" [timeInterval]="5" />
    <input
      [mtxDatetimepicker]="datetimePicker"
      [max]="tomorrow"
      [min]="today"
      autocomplete="false"
      formControlName="dateTime"
      matInput
      required
    />
    @if (group.get('dateTime')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    @if (group.get('dateTime')?.errors?.mtxDatetimepickerMin) {
      <mat-error>min</mat-error>
    }
    @if (group.get('dateTime')?.errors?.mtxDatetimepickerMax) {
      <mat-error>max</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>DateTime with manual input</mat-label>
    <mtx-datetimepicker-toggle [for]="datetimePickerManual" matSuffix />
    <mtx-datetimepicker
      #datetimePickerManual
      startView="month"
      [timeInterval]="5"
      [timeInput]="true"
      [timeInputAutoFocus]="timeInputAutoFocus"
    />
    <input
      [mtxDatetimepicker]="datetimePickerManual"
      [max]="tomorrow"
      [min]="today"
      autocomplete="false"
      formControlName="dateTimeManual"
      matInput
      required
    />
    @if (group.get('dateTimeManual')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    @if (group.get('dateTimeManual')?.errors?.mtxDatetimepickerMin) {
      <mat-error>min</mat-error>
    }
    @if (group.get('dateTimeManual')?.errors?.mtxDatetimepickerMax) {
      <mat-error>max</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>DateTime Year selector</mat-label>
    <mtx-datetimepicker-toggle [for]="datetimeYearPicker" matSuffix />
    <mtx-datetimepicker
      #datetimeYearPicker
      [multiYearSelector]="true"
      startView="month"
      [timeInterval]="5"
    />
    <input
      [mtxDatetimepicker]="datetimeYearPicker"
      [max]="tomorrow"
      [min]="today"
      autocomplete="false"
      formControlName="dateTimeYear"
      matInput
      required
    />
    @if (group.get('dateTimeYear')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    @if (group.get('dateTimeYear')?.errors?.mtxDatetimepickerMin) {
      <mat-error>min</mat-error>
    }
    @if (group.get('dateTimeYear')?.errors?.mtxDatetimepickerMax) {
      <mat-error>max</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Time</mat-label>
    <mtx-datetimepicker-toggle [for]="timePicker" matSuffix />
    <mtx-datetimepicker #timePicker [timeInterval]="5" type="time" />
    <input [mtxDatetimepicker]="timePicker" formControlName="time" matInput required />
    @if (group.get('time')?.errors?.required) {
      <mat-error>required</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Time AM/PM</mat-label>
    <mtx-datetimepicker-toggle [for]="timeAMPMPicker2" matSuffix />
    <mtx-datetimepicker
      #timeAMPMPicker2
      [timeInterval]="5"
      [twelvehour]="true"
      [timeInput]="true"
      [timeInputAutoFocus]="timeInputAutoFocus"
      type="time"
    />
    <input [mtxDatetimepicker]="timeAMPMPicker2" formControlName="timeAMPM2" matInput required />
    @if (group.get('timeAMPM2')?.errors?.required) {
      <mat-error>required</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Time AM/PM</mat-label>
    <mtx-datetimepicker-toggle [for]="timeAMPMPicker" matSuffix />
    <mtx-datetimepicker #timeAMPMPicker [timeInterval]="5" [twelvehour]="true" type="time" />
    <input [mtxDatetimepicker]="timeAMPMPicker" formControlName="timeAMPM" matInput required />
    @if (group.get('timeAMPM')?.errors?.required) {
      <mat-error>required</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>DateTime AM/PM with manual input</mat-label>
    <mtx-datetimepicker-toggle [for]="timeAMPMPickerManual" matSuffix />
    <mtx-datetimepicker
      #timeAMPMPickerManual
      startView="month"
      [timeInterval]="5"
      [timeInput]="true"
      [timeInputAutoFocus]="timeInputAutoFocus"
      [twelvehour]="true"
    />
    <input
      [mtxDatetimepicker]="timeAMPMPickerManual"
      [max]="tomorrow"
      [min]="today"
      autocomplete="false"
      formControlName="timeAMPMManual"
      matInput
      required
    />
    @if (group.get('timeAMPMManual')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    @if (group.get('timeAMPMManual')?.errors?.mtxDatetimepickerMin) {
      <mat-error>min</mat-error>
    }
    @if (group.get('timeAMPMManual')?.errors?.mtxDatetimepickerMax) {
      <mat-error>max</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Date</mat-label>
    <mtx-datetimepicker-toggle [for]="datePicker" matSuffix />
    <mtx-datetimepicker #datePicker type="date" />
    <input [mtxDatetimepicker]="datePicker" formControlName="date" matInput required />
    @if (group.get('date')?.errors?.required) {
      <mat-error>required</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Month</mat-label>
    <mtx-datetimepicker-toggle [for]="monthPicker" matSuffix />
    <mtx-datetimepicker #monthPicker mode="portrait" type="month" />
    <input [mtxDatetimepicker]="monthPicker" formControlName="month" matInput required />
    @if (group.get('month')?.errors?.required) {
      <mat-error>required</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Year</mat-label>
    <mtx-datetimepicker-toggle [for]="yearPicker" matSuffix />
    <mtx-datetimepicker #yearPicker type="year" />
    <input [mtxDatetimepicker]="yearPicker" formControlName="year" matInput required />
    @if (group.get('year')?.errors?.required) {
      <mat-error>required</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Min/Max Test</mat-label>
    <input
      [mtxDatetimepicker]="minTestPicker"
      [max]="max"
      [min]="min"
      formControlName="mintest"
      matInput
      required
    />
    <mtx-datetimepicker-toggle [for]="minTestPicker" matSuffix />
    <mtx-datetimepicker #minTestPicker mode="landscape" [timeInterval]="5" />
    @if (group.get('mintest')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    @if (group.get('mintest')?.errors?.mtxDatetimepickerMin) {
      <mat-error>min</mat-error>
    }
    @if (group.get('mintest')?.errors?.mtxDatetimepickerMax) {
      <mat-error>max</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Filter Test</mat-label>
    <input
      [mtxDatetimepickerFilter]="filter"
      [mtxDatetimepicker]="filterTestPicker"
      formControlName="filtertest"
      matInput
      required
    />
    <mtx-datetimepicker-toggle [for]="filterTestPicker" matSuffix />
    <mtx-datetimepicker #filterTestPicker mode="landscape" [timeInterval]="5" />
    @if (group.get('filtertest')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    @if (group.get('filtertest')?.errors?.mtxDatetimepickerFilter) {
      <mat-error>filter</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>TouchUi</mat-label>
    <input [mtxDatetimepicker]="touch" [min]="min" formControlName="touch" matInput required />
    <mtx-datetimepicker-toggle [for]="touch" matSuffix />
    <mtx-datetimepicker #touch mode="portrait" [timeInterval]="5" [touchUi]="true" />
    @if (group.get('touch')?.errors?.required) {
      <mat-error>required</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Custom Header</mat-label>
    <mtx-datetimepicker-toggle [for]="datetimePickerCustomHeader" matSuffix />
    <mtx-datetimepicker
      #datetimePickerCustomHeader
      startView="month"
      [timeInterval]="5"
      [calendarHeaderComponent]="customHeader"
    />
    <input
      [mtxDatetimepicker]="datetimePickerCustomHeader"
      [max]="tomorrow"
      [min]="today"
      autocomplete="false"
      formControlName="dateTime"
      matInput
      required
    />
    @if (group.get('dateTime')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    @if (group.get('dateTime')?.errors?.mtxDatetimepickerMin) {
      <mat-error>min</mat-error>
    }
    @if (group.get('dateTime')?.errors?.mtxDatetimepickerMax) {
      <mat-error>max</mat-error>
    }
  </mat-form-field>

  <mat-form-field [color]="themeColor">
    <mat-label>Action Buttons</mat-label>
    <mtx-datetimepicker
      #datetimePickerButtons
      type="datetime"
      [timeInput]="true"
      [timeInputAutoFocus]="timeInputAutoFocus"
    >
      <mtx-datetimepicker-actions>
        <button mat-button mtxDatetimepickerClear>Clear</button>
        <button mat-button mtxDatetimepickerCancel>Cancel</button>
        <button mat-raised-button mtxDatetimepickerApply>Apply</button>
      </mtx-datetimepicker-actions>
    </mtx-datetimepicker>
    <input
      [mtxDatetimepicker]="datetimePickerButtons"
      autocomplete="false"
      formControlName="dateTimeButtons"
      matInput
      required
    />
    @if (group.get('dateTimeButtons')?.errors?.required) {
      <mat-error>required</mat-error>
    }
    <mtx-datetimepicker-toggle [for]="datetimePickerButtons" matSuffix />
  </mat-form-field>

  <button mat-button>Submit</button>
</form>

<h2>Calendar Inline</h2>

<mat-card class="demo-inline-card">
  <mtx-calendar [(selected)]="selectedDate" type="date" startView="month"></mtx-calendar>
</mat-card>
<p>Selected date: {{ selectedDate }}</p>

<mat-card class="demo-inline-card">
  <mtx-calendar [(selected)]="selectedTime" type="time" startView="clock"></mtx-calendar>
</mat-card>
<p>Selected time: {{ selectedTime }}</p>
